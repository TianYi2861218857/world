<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>动画-减速动画-正反向合并</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #box{
            width: 100px;
            height: 100px;
            position: absolute;
            top: 50px;
            background-color: orange;
            left: 0px;
        }
        #line{
            width: 1px;
            height: 600px;
            position: absolute;
            background-color: gray;
            left: 400px;
            top: 0px;
        }
    </style>
</head>
<body>
    <button id="btn">开始动画</button>
    <div id="box"></div>
    <div id="line"></div>
</body>
<script>
  var oBtn = document.getElementById('btn');
  var oBox = document.getElementById('box');
  oBtn.onclick = function(){
      clearInterval(oBox.timer);
      var iSpeed = 0;
      oBox.timer = setInterval(function(){
        iSpeed = (400 - oBox.offsetLeft)/10;
        /*if (iSpeed>0) {
           iSpeed = Math.ceil(iSpeed);
        }else{
           iSpeed = Math.floor(iSpeed);
        }*/
        iSpeed =iSpeed>0 ? iSpeed = Math.ceil(iSpeed) : iSpeed = Math.floor(iSpeed);
        if (!iSpeed) {   //速度为0时关闭定时器
            clearInterval(oBox.timer);
        } else{
            oBox.style.left = oBox.offsetLeft + iSpeed +'px';
        }
        console.log(oBox.offsetLeft,iSpeed)
      },30)
  }
</script>
</html>
