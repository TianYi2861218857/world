<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>自定义滚动条-滚动文字</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#warp{
			width: 500px;
			height: 600px;
			border: 2px solid green;
			margin: 20px auto;
			position: relative;
			overflow: hidden;
		}
		#content{
			width: 480px;
			height: 600px;
			position: absolute;
			top: 0;
			left: 0;
		}
		#txt{
			position: absolute;
			top: 0;
			left: 0;
		}
		#father{
			position: absolute;
			top: 0px;
			right: 0px;
			width: 20px;
			height: 600px;
			background-color: gray;
			margin: 0px auto;
		}
		#box{
			position: absolute;
			width: 20px;
			height: 30px;
			top:0;
			left: 0;
			background-color: rgba(235,100,0);
			border-radius: 10px;
		}
	</style>
</head>
<body>
	<div id="warp">
		<div id="content">
			<div id="txt">
				新华社法国比亚里茨8月24日电（记者徐永春　刘芳）一年一度的七国集团峰会24日在法国南部滨海小城比亚里茨开幕。法国总统马克龙等领导人呼吁避免贸易战。

			　　本届峰会为期3天。法国、美国、德国、英国、意大利、加拿大和日本七国领导人与会，印度、澳大利亚、埃及、南非、智利、布基纳法索等国领导人受邀参加相关讨论。联合国、国际货币基金组织和世界贸易组织等国际机构负责人将参加相关会议。

			　　“反对不平等”是轮值主席国法国为本届峰会设定的主题，与会者将探讨如何解决性别、教育和卫生等方面的不平等。此外，全球经济和贸易、伊朗问题、气候变化等也是峰会议题。

			　　马克龙24日在峰会开幕前发表讲话说，希望七国领导人能意识到，紧张局势尤其是贸易紧张局势对全世界都是有害的。他说：“我们应该致力于缓解紧张局势，避免贸易战，重振全球经济增长。”

			　　英国首相约翰逊当天表示，他将劝说美国总统特朗普不要进行贸易战，因为贸易战已经使全球经济不稳定。约翰逊说：“面对贸易保护主义抬头和关税提高，我对当前局势走向感到非常担忧。”

			　　欧洲理事会主席图斯克24日表示，贸易战必须停止，如果美国出于政治原因使用关税，将危害全世界。他说：“贸易协议和世界贸易组织改革比贸易战好。贸易战将导致衰退，而贸易协议将促进经济。”

			　　当天，近万名非政府组织成员和法国“黄马甲”运动参与者等在比亚里茨周边城市举行游行示威活动，反对七国集团峰会。（参与记者：田栋栋）\
			新华社法国比亚里茨8月24日电（记者徐永春　刘芳）一年一度的七国集团峰会24日在法国南部滨海小城比亚里茨开幕。法国总统马克龙等领导人呼吁避免贸易战。

			　　本届峰会为期3天。法国、美国、德国、英国、意大利、加拿大和日本七国领导人与会，印度、澳大利亚、埃及、南非、智利、布基纳法索等国领导人受邀参加相关讨论。联合国、国际货币基金组织和世界贸易组织等国际机构负责人将参加相关会议。

			　　“反对不平等”是轮值主席国法国为本届峰会设定的主题，与会者将探讨如何解决性别、教育和卫生等方面的不平等。此外，全球经济和贸易、伊朗问题、气候变化等也是峰会议题。

			　　马克龙24日在峰会开幕前发表讲话说，希望七国领导人能意识到，紧张局势尤其是贸易紧张局势对全世界都是有害的。他说：“我们应该致力于缓解紧张局势，避免贸易战，重振全球经济增长。”

			　　英国首相约翰逊当天表示，他将劝说美国总统特朗普不要进行贸易战，因为贸易战已经使全球经济不稳定。约翰逊说：“面对贸易保护主义抬头和关税提高，我对当前局势走向感到非常担忧。”

			　　欧洲理事会主席图斯克24日表示，贸易战必须停止，如果美国出于政治原因使用关税，将危害全世界。他说：“贸易协议和世界贸易组织改革比贸易战好。贸易战将导致衰退，而贸易协议将促进经济。”

			　　当天，近万名非政府组织成员和法国“黄马甲”运动参与者等在比亚里茨周边城市举行游行示威活动，反对七国集团峰会。（参与记者：田栋栋）
			天，近万名非政府组织成员和法国“黄马甲”运动参与者等在比亚里茨周边城市举行游行示威活动，反对七国集团峰会。（参与记者：田栋栋）\
			新华社法国比亚里茨8月24日电（记者徐永春　刘芳）一年一度的七国集团峰会24日在法国南部滨海小城比亚里茨开幕。法国总统马克龙等领导人呼吁避免贸易战。

			　　本届峰会为期3天。法国、美国、德国、英国、意大利、加拿大和日本七国领导人与会，印度、澳大利亚、埃及、南非、智利、布基纳法索等国领导人受邀参加相关讨论。联合国、国际货币基金组织和世界贸易组织等国际机构负责人将参加相关会议。

			　　“反对不平等”是轮值主席国法国为本届峰会设定的主题，与会者将探讨如何解决性别、教育和卫生等方面的不平等。此外，全球经济和贸易、伊朗问题、气候变化等也是峰会议题。

			　　马克龙24日在峰会开幕前发表讲话说，希望七国领导人能意识到，紧张局势尤其是贸易紧张局势对全世界都是有害的。他说：“我们应该致力于缓解紧张局势，避免贸易战，重振全球经济增长。”

			　　英国首相约翰逊当天表示，他将劝说美国总统特朗普不要进行贸易战，因为贸易战已经使全球经济不稳定。约翰逊说：“面对贸易保护主义抬头和关税提高，我对当前局势走向感到非常担忧。”

			　　欧洲理事会主席图斯克24日表示，贸易战必须停止，如果美国出于政治原因使用关税，将危害全世界。他说：“贸易协议和世界贸易组织改革比贸易战好。贸易战将导致衰退，而贸易协议将促进经济。”

			　　当天，近万名非政府组织成员和法国“黄马甲”运动参与者等在比亚里茨周边城市举行游行示威活动，反对七国集团峰会。（参与记者：田栋栋）
			马克龙24日在峰会开幕前发表讲话说，希望七国领导人能意识到，紧张局势尤其是贸易紧张局势对全世界都是有害的。他说：“我们应该致力于缓解紧张局势，避免贸易战，重振全球经济增长。”

			　　英国首相约翰逊当天表示，他将劝说美国总统特朗普不要进行贸易战，因为贸易战已经使全球经济不稳定。约翰逊说：“面对贸易保护主义抬头和关税提高，我对当前局势走向感到非常担忧。”

			　　欧洲理事会主席图斯克24日表示，贸易战必须停止，如果美国出于政治原因使用关税，将危害全世界。他说：“贸易协议和世界贸易组织改革比贸易战好。贸易战将导致衰退，而贸易协议将促进经济。”

			　　当天，近万名非政府组织成员和法国“黄马甲”运动参与者等在比亚里茨周边城市举行游行示威活动，反对七国集团峰会。（参与记者：田栋栋）
			</div>
		</div>
		<div id="father">
			<div id="box"></div>
		</div>
	</div>
	
</body>
<script>
	function hanshu(){
		if (t<0) {
			t= 0;
		}else if (t>(oFather.offsetHeight-oBox.offsetHeight)) {
			t = (oFather.offsetHeight-oBox.offsetHeight);
		}
		var scale = t/(oFather.offsetHeight-oBox.offsetHeight);
		oBox.style.top = t +'px';
		oTxt.style.top = (oContent.offsetHeight-oTxt.offsetHeight)*scale + 'px';
	}
	var oBox = document.getElementById('box');
	var oFather = document.getElementById('father');
	var oContent = document.getElementById('content');
	var oTxt = document.getElementById('txt');
	var oWarp = document.getElementById('warp');
	var disY;
	var t= 0;

	//改变滚动条的长度
	var ob =oWarp.offsetHeight/oTxt.offsetHeight;
	oBox.style.height = oFather.offsetHeight*ob + 'px';
	// oBox.offsetHeight = oFather.offsetHeight*ob;

	oBox.onmousedown = function(ev){
		disY = ev.clientY - oBox.offsetTop;
		document.onmousemove = function(ev){
			t = ev.clientY - disY;
			hanshu();
		}
		document.onmouseup = function(){
			document.onmousemove = null;
			document.onmouseup = null;
		}	
	}
	oWarp.onmousewheel = function(ev){
		// console.log(ev.wheelDelta)
		if (ev.wheelDelta>0) {
			t -= 10;
		} else{
			t +=10;
		}
		hanshu();
	}
</script>
</html>