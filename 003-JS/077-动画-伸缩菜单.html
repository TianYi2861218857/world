<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>动画-伸缩菜单</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #main{
            position: relative;
            top: 20px;
            left: -400px;
            width: 400px;
            height: 300px;
            background-color: #ccc;
        }
        #sub{
            position: absolute;
            left: 400px;
            width: 100px;
            height: 300px;
            background-color: #f67;
        }
    </style>
</head>
<body>
   <div id="main">
       <div id="sub"></div>
   </div>
</body>
<script>
   var oMain = document.getElementById('main');
   var timer = 0;
   oMain.onmouseover=function(){
        var iSpeed =0;
        if (oMain.offsetLeft < 0) {
            iSpeed = 10;
        }else{
            iSpeed = -10;
        }
        clearInterval(timer);
        //每点击一次关闭上一个定时器,防止多次点击导致速度加快且最后一个定时器无法关闭
        timer=setInterval(function(){
            if(Math.abs(0-oMain.offsetLeft)<Math.abs(iSpeed)){
                oMain.style.left = '0px';
                clearInterval(timer);
            }else{
               oMain.style.left = oMain.offsetLeft+iSpeed+'px';
            }
        },30)
   }
   oMain.onmouseout=function(){
        var iSpeed =0;
        if (oMain.offsetLeft < -400) {
            iSpeed = 10;
        }else{
            iSpeed = -10;
        }
        clearInterval(timer);
        //每点击一次关闭上一个定时器,防止多次点击导致速度加快且最后一个定时器无法关闭
        timer=setInterval(function(){
            if(Math.abs(-400-oMain.offsetLeft)<Math.abs(iSpeed)){
                oMain.style.left = '-400px';
                clearInterval(timer);
            }else{
               oMain.style.left = oMain.offsetLeft+iSpeed+'px';
            }
        },30)
   }
</script>
</html>